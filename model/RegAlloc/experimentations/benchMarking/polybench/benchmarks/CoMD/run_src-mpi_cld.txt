cd /home/shalini/LOF_test/benchmarks/CoMD/src-mpi
rm *.ll
rm *.o
rm *.out

./generate_info_header CoMD-serial mpicc -lm 

/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g cmdLineParser.c  
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g decomposition.c  
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g haloExchange.c  
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g linkCells.c  
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g mycommand.c  
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g performanceTimers.c  
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g timestep.c
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g CoMD.c           
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g eam.c            
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g initAtoms.c     
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g ljForce.c    
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g parallel.c   
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g random.c             
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang -emit-llvm -S -Xclang -disable-O0-optnone -O3 -mllvm -enable-loop-inline -mllvm -cld -g yamlOutput.c

llfiles=""
for file in *.ll; do llfiles+=$file" "; done
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/llvm-link $llfiles -o final_src-mpi.ll
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/llc final_src-mpi.ll -filetype=obj -o final_src-mpi.o
/home/shalini/LOF_test/IR2Vec-LoopOptimizationFramework/build_release/bin/clang final_src-mpi.o -lm -o final_src-mpi.out

for i in {0,1,2}
do
	time ./final_src-mpi.out
done
